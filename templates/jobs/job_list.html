{% extends 'base.html' %}
{% block title %}Browse Jobs - Job Portal{% endblock %}
{% block content %}
<h2>Browse Jobs</h2>
<form method="get" class="card p-3 mb-4">
    <div class="row">
        <div class="col-md-3 mb-2"><input type="text" name="search" class="form-control" placeholder="Job title or keyword" value="{{ search_query }}"></div>
        <div class="col-md-3 mb-2"><input type="text" name="location" class="form-control" placeholder="Location" value="{{ location }}"></div>
        <div class="col-md-2 mb-2">
            <select name="job_type" class="form-control">
                <option value="">Job Type</option>
                <option value="full-time">Full Time</option>
                <option value="part-time">Part Time</option>
                <option value="contract">Contract</option>
                <option value="internship">Internship</option>
                <option value="remote">Remote</option>
            </select>
        </div>
        <div class="col-md-2 mb-2"><input type="text" name="category" class="form-control" placeholder="Category" value="{{ category }}"></div>
        <div class="col-md-2 mb-2"><button type="submit" class="btn btn-primary w-100">Search</button></div>
    </div>
</form>
<div class="row">
    {% for job in jobs %}
    <div class="col-md-6 mb-3">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">{{ job.title }}</h5>
                <p class="text-muted"><i class="fas fa-building"></i> {{ job.employer.employer_profile.company_name|default:"Company" }}</p>
                <p><i class="fas fa-map-marker-alt"></i> {{ job.location }} | <i class="fas fa-briefcase"></i> {{ job.get_job_type_display }}</p>
                <p>{{ job.description|truncatewords:15 }}</p>
                <a href="{% url 'jobs:job_detail' job.id %}" class="btn btn-primary btn-sm">View Details</a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12"><p class="text-center">No jobs found matching your criteria.</p></div>
    {% endfor %}
</div>
{% endblock %}
